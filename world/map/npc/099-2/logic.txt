// Evol script
// Author:
//      Jesusalva
// Description:
//      099-2 and 099-6 KESHLAM ADVENTURER GUILD QUARTERS
//      Controls gimmicks in 099-3 as well
/////////////////////////////////////////////////////////////////////////////////

099-2,0,0,0|script|#099-2_Prestart|32767
{
    end;
OnInit:
    // Initialize the 18 switches
    set $@DOOMSDAY_TSWITCH, 0;
    // setarray $@DOOMSDAY_SWITCH - not needed

    // Initialize the 16 passwords
    setarray $@DD5_PASSWORDS,
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000),
             3555+rand(10000);
    end;
}

/////////////////////////////////////////////////////
// Switches subsystem
// Switches are distributed between three maps
// There is a total of 18 switches
099-2,25,17,0|script|#099-2_25_17|422
{
	if (!$@DOOMSDAY_SWITCH[0]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[0], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-2,90,18,0|script|#099-2_90_18|422
{
	if (!$@DOOMSDAY_SWITCH[1]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[1], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-2,121,70,0|script|#099-2_121_70|422
{
	if (!$@DOOMSDAY_SWITCH[2]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[2], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-2,23,95,0|script|#099-2_23_95|422
{
	if (!$@DOOMSDAY_SWITCH[3]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[3], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-2,57,130,0|script|#099-2_57_130|422
{
	if (!$@DOOMSDAY_SWITCH[4]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[4], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-6,25,17,0|script|#099-6_25_17|422
{
	if (!$@DOOMSDAY_SWITCH[5]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[5], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-6,90,18,0|script|#099-6_90_18|422
{
	if (!$@DOOMSDAY_SWITCH[6]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[6], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-6,121,71,0|script|#099-6_121_71|422
{
	if (!$@DOOMSDAY_SWITCH[7]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[7], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-6,23,95,0|script|#099-6_23_95|422
{
	if (!$@DOOMSDAY_SWITCH[8]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[8], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-6,57,130,0|script|#099-6_57_130|422
{
	if (!$@DOOMSDAY_SWITCH[9]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[9], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,29,69,0|script|#099-3_29_69|422
{
	if (!$@DOOMSDAY_SWITCH[10]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[10], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,35,69,0|script|#099-3_35_69|422
{
	if (!$@DOOMSDAY_SWITCH[11]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[11], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,41,69,0|script|#099-3_41_69|422
{
	if (!$@DOOMSDAY_SWITCH[12]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[12], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,59,69,0|script|#099-3_59_69|422
{
	if (!$@DOOMSDAY_SWITCH[13]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[13], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,79,69,0|script|#099-3_79_69|422
{
	if (!$@DOOMSDAY_SWITCH[14]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[14], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,91,69,0|script|#099-3_91_69|422
{
	if (!$@DOOMSDAY_SWITCH[15]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[15], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,97,69,0|script|#099-3_97_69|422
{
	if (!$@DOOMSDAY_SWITCH[16]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[16], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}

099-3,115,69,0|script|#099-3_115_69|422
{
	if (!$@DOOMSDAY_SWITCH[17]) goto L_Enable;
	end;

L_Enable:
	fakenpcname strnpcinfo(0), strnpcinfo(0)+"_", 423;
	set $@DOOMSDAY_SWITCH[17], 1;
	set $@DOOMSDAY_TSWITCH, $@DOOMSDAY_TSWITCH+1;
	getexp 100000, 0;
	message strcharinfo(0), "The switch is now on!";
	end;
}





/////////////////////////////////////////////////////
// Password subsystem
// Passwords are distributed between two maps
// There is a total of 16 passwords
099-2,119,18,0|script|Writing#_119_18|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... NULL... It is... "+$@DD5_PASSWORDS[0]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,25,45,0|script|Writing#_25_45|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... EIN... It is... "+$@DD5_PASSWORDS[1]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,93,42,0|script|Writing#_93_42|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... ZWEI... It is... "+$@DD5_PASSWORDS[2]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,59,72,0|script|Writing#_59_72|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... DREI... It is... "+$@DD5_PASSWORDS[3]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,89,66,0|script|Writing#_89_66|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... VIER... It is... "+$@DD5_PASSWORDS[4]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,123,94,0|script|Writing#_123_94|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... FUNF... It is... "+$@DD5_PASSWORDS[5]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,62,94,0|script|Writing#_62_94|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... SECHS... It is... "+$@DD5_PASSWORDS[6]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-2,27,94,0|script|Writing#_27_94|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... SIEBEN... It is... "+$@DD5_PASSWORDS[7]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,119,18,0|script|Writing#_119_18|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... ACHT... It is... "+$@DD5_PASSWORDS[8]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,25,45,0|script|Writing#_25_45|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... NEUN... It is... "+$@DD5_PASSWORDS[9]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,93,42,0|script|Writing#_93_42|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... ZEHN... It is... "+$@DD5_PASSWORDS[10]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,59,72,0|script|Writing#_59_72|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... ELF... It is... "+$@DD5_PASSWORDS[11]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,89,66,0|script|Writing#_89_66|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... ZWOLF... It is... "+$@DD5_PASSWORDS[12]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,123,94,0|script|Writing#_123_94|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... DREIZEHN... It is... "+$@DD5_PASSWORDS[13]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,62,94,0|script|Writing#_62_94|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... VIERZEHN... It is... "+$@DD5_PASSWORDS[14]+"...";
	mes "The remainder was too blurred to read.";
	close;
}

099-6,27,94,0|script|Writing#_27_94|400
{
	mes "##9 There is a strange writing here. ##0";
	mes "";
	mes "##1Password... FUNFZEHN... It is... "+$@DD5_PASSWORDS[15]+"...";
	mes "The remainder was too blurred to read.";
	close;
}





/////////////////////////////////////////////////////
// Lore subsystem
// Lore tidbits are distributed between four maps
// Strategy notes are mixed as well
// There is a total of 14 lore parts

099-2,57,17,0|script|???#099-2_57_17|400
{
	mes "There is nothing of interest here.";
	close;
}

099-2,123,128,0|script|???#099-2_123_128|400
{
	mes "There is nothing of interest here.";
	close;
}

099-2,95,122,0|script|???#099-2_95_122|400
{
	mes "There is nothing of interest here.";
	close;
}

099-2,28,122,0|script|???#099-2_28_122|400
{
	mes "There is nothing of interest here.";
	close;
}

099-6,57,17,0|script|???#099-6_57_17|400
{
	mes "There is nothing of interest here.";
	close;
}

099-6,123,128,0|script|???#099-6_123_128|400
{
	mes "There is nothing of interest here.";
	close;
}

099-6,95,122,0|script|???#099-6_95_122|400
{
	mes "There is nothing of interest here.";
	close;
}

099-6,28,122,0|script|???#099-6_28_122|400
{
	mes "There is nothing of interest here.";
	close;
}


099-1,43,14,0|script|Painting#099-1|400
{
	mes "There is nothing of interest here.";
	close;
}

099-1,35,22,0|script|Fireplace#099-1|400
{
	mes "There is nothing of interest here.";
	close;
}

099-1,20,22,0|script|Bookcase#099-1|400
{
	mes "There is nothing of interest here.";
	close;
}

099-1,45,22,0|script|Bookcase#099-1b|400
{
	mes "There is nothing of interest here.";
	close;
}


099-3,107,50,0|script|Music Score#099-3|400
{
	mes "There is nothing of interest here.";
	close;
}

099-3,39,46,0|script|Outstanding Book#099-3|400
{
	mes "There is nothing of interest here.";
	close;
}

