// Making Powders from Gems & Smelting
function|script|MiningRecipes|,
{
    cleararray @RecipesCho,"",getarraysize(@RecipesCho);
    set @RecipeNr, 0;
    set @padcnt, 0;

    // All Recipes for mining.
    // Level 9
    if((@HasSkill > 8)) 
        goto L_NineSkills;
    // Level 8
    if((@HasSkill > 7)) 
        goto L_EightSkills;
    // Level 7
    if((@HasSkill > 6)) 
        goto L_SevenSkills;
    // Level 6
    if((@HasSkill > 5)) 
        goto L_SixSkills;
    // Level 5
    if((@HasSkill > 4)) 
        goto L_FiveSkills;
    // Level 4
    if((@HasSkill > 3)) 
        goto L_FourSkills;
    // Level 3
    if((@HasSkill > 2)) 
        goto L_ThreeSkills;
    // Level 2
    if((@HasSkill > 1)) 
        goto L_TwoSkills;
    // Level 1
    if((@HasSkill > 0)) 
        goto L_OneSkills;
    goto L_End;

L_NineSkills:
    setarray @RecipesCho[@RecipeNr], 824;
    set @RecipeNr, @RecipeNr + 1;
    goto L_EightSkills;
L_EightSkills:
    setarray @RecipesCho[@RecipeNr], 822;
    set @RecipeNr, @RecipeNr + 1;
    goto L_SevenSkills;
L_SevenSkills:
    goto L_SixSkills;
L_SixSkills:
    goto L_FiveSkills;
L_FiveSkills:
    goto L_FourSkills;
L_FourSkills:
    setarray @RecipesCho[@RecipeNr], 4001;
    set @RecipeNr, @RecipeNr + 1;
    goto L_ThreeSkills;
L_ThreeSkills:
    setarray @RecipesCho[@RecipeNr], 819;
    set @RecipeNr, @RecipeNr + 1;
    setarray @RecipesCho[@RecipeNr], 821;
    set @RecipeNr, @RecipeNr + 1;
    goto L_TwoSkills;
L_TwoSkills:
    setarray @RecipesCho[@RecipeNr], 823;
    set @RecipeNr, @RecipeNr + 1;
    setarray @RecipesCho[@RecipeNr], 820;
    set @RecipeNr, @RecipeNr + 1;
    goto L_OneSkills;
L_OneSkills:
    setarray @RecipesCho[@RecipeNr], 4015;
    set @RecipeNr, @RecipeNr + 1;
    goto L_Pad;

L_AddPadItem:
    setarray @RecipesCho[@RecipeNr], 907;
    set @RecipeNr, @RecipeNr + 1;
    goto L_PadCheck;

L_PadCheck:
    set @padcnt, @padcnt + 1;
    if(@paditem > @padcnt) 
        goto L_AddPadItem;
    goto L_End; 

L_Pad:
    set @paditem, (5 - ((getarraysize(@RecipesCho) - ((getarraysize(@RecipesCho)/5)*5))));
    set @padcnt, 0;
    goto L_AddPadItem;

L_End:
    return;
}
function|script|Amethyst Powder|,
{
    set @RecipeXp, 4;
    setarray @getitem_ids, 824;
    setarray @getitem_counts, 5;
    setarray @delitem_ids, 4007;
    setarray @delitem_counts, 1;
    return;
}
function|script|Coal|,
{
    set @RecipeXp, 10;
    setarray @getitem_ids, 4001;
    setarray @getitem_counts, 1;
    setarray @delitem_ids, 569;
    setarray @delitem_counts, 10;
    return;
}
function|script|Diamond Powder|,
{
    set @RecipeXp, 4;
    setarray @getitem_ids, 819;
    setarray @getitem_counts, 5;
    setarray @delitem_ids, 4002;
    setarray @delitem_counts, 1;
    return;
}
function|script|Emerald Powder|,
{
    set @RecipeXp, 4;
    setarray @getitem_ids, 821;
    setarray @getitem_counts, 5;
    setarray @delitem_ids, 4004;
    setarray @delitem_counts, 1;
    return;
}
function|script|Iron Ingot|,
{
    set @RecipeXp, 10;
    setarray @getitem_ids, 4015;
    setarray @getitem_counts, 1;
    setarray @delitem_ids, 640, 4001;
    setarray @delitem_counts, 5, 10;
    return;
}
function|script|Ruby Powder|,
{
    set @RecipeXp, 4;
    setarray @getitem_ids, 820;
    setarray @getitem_counts, 5;
    setarray @delitem_ids, 4003;
    setarray @delitem_counts, 1;
    return;
}
function|script|Sapphire Powder|,
{
    set @RecipeXp, 4;
    setarray @getitem_ids, 822;
    setarray @getitem_counts, 5;
    setarray @delitem_ids, 4005;
    setarray @delitem_counts, 1;
    return;
}
function|script|Topaz Powder|,
{
    set @RecipeXp, 4;
    setarray @getitem_ids, 823;
    setarray @getitem_counts, 5;
    setarray @delitem_ids, 4006;
    setarray @delitem_counts, 1;
    return;
}
