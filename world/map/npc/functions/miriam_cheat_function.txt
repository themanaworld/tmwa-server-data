// Miriam Speed Quest Cheat Inhibitor
// Author: wushin

function|script|SpeedCheat|,
{
    if (QUEST_MIRIAM_start != 0)
        goto L_CheckCheat;
    goto L_Return;

L_CheckCheat:
    set @agi, readparam(bAgi);
    set @torso$, getitemname(getequipid(equip_torso));
    set @weight, MaxWeight/Weight;
    if (@weight < 3)
        goto L_Failed;
    if (@agi < 60)
        goto L_Failed;
    if (countitem("SteelShield") > 0
        || countitem("WarlordHelmet") > 0
        || countitem("CrusadeHelmet") > 0
        || countitem("WarlordPlate") > 0
        || countitem("KnightsHelmet") > 0
        || countitem("InfantryHelmet") > 0
        || countitem("ChainmailShirt") > 0
        || countitem("WarlordBoots") > 0
        || countitem("LightPlatemail") > 0
        || countitem("CandleHelmet") > 0)
            goto L_Failed;
    goto L_Return;

L_Failed:
    set QUEST_MIRIAM_cheat, 1;
    set QUEST_MIRIAM_run, 0;
    set QUEST_MIRIAM_start, 0;
    message strcharinfo(0), "I don't think Miriam had intended for you to carry this much. She might not like what your doing here";
    goto L_Return;

L_Return:
    return;
}
