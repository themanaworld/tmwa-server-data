function|script|WandQuestLog|,
{
    callfunc "MorganState";

    if (@morgan == 0)
        goto L_Return;
    if (@morgan == 1)
        goto L_Seen;
    if (@morgan == 2)
        goto L_Started;
    if (@morgan == 3)
        goto L_CastOnce;
    if (@morgan == 4)
        goto L_LearningDone;
    goto L_Return;

L_Seen:
    mes "Visit Morgan.";
    goto L_Return;

L_Started:
    mes "Equip the wand and cast " + getspellinvocation("wand");
    goto L_Return;

L_CastOnce:
    mes "Talk to Morgan.";
    goto L_Return;

L_LearningDone:
    mes "Complete.";
    goto L_Return;

L_Return:
    return;
}
