// Fills empty bottles with water

function|script|WaterBottle
{
    set @COST_PER_BOTTLE, 150;

    mes "How many empty bottles do you want to fill with water? It costs " + @COST_PER_BOTTLE + "gp per bottle.";
    input @count;

    if (@count == 0)
        close;
    set @cost, @count * @COST_PER_BOTTLE;

    setarray @delitem$, "EmptyBottle";
    setarray @delitem, @count;
    setarray @getitem$, "BottleOfWater";
    setarray @getitem, @count;
    set @delzeny, @cost;
    callfunc "CheckInventory";
    close;
}
