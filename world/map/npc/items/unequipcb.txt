// For now this has to use a real map name, but the effect happens
// on any map because of the -1s at the end.
// Note: the client (I think) has a display bug if this is called
// during the intial connection's equip hook
botcheck.gat,0,0,0|script|UnequipCB|-1,-1,-1
{

OnUnequip:
    unequipbyid (@unequip_slot -1);
    set @unequip_slot, 0;
    end;
}

// Paired with unequipcb
function|script|UnequipLater|,
{
    if(@unequip_slot)
        goto L_Return;
    goto L_ReturnTimer;

L_ReturnTimer:
    set @unequip_slot, (@slotId + 1);
    addtimer 0, "UnequipCB::OnUnequip";

L_Return:
    return;
}
