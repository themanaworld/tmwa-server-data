// This file is part of Christmas Event
// author: Jenalya, Chayenne, cinderweb, wushin, meko
// please see #XmasConfig

function|script|DeleteReagents
{
    set @xmas_reagent_loop, 0;
    setarray @delitem$, "";
    setarray @delitem, 0;
    if(@xmas_side)
        goto L_OneLoop;
    goto L_ZeroLoop;

L_ZeroLoop:
    set @delitem$[@xmas_reagent_loop], $@xmas_zero_reagents$[@xmas_reagent_loop];
    set @delitem[@xmas_reagent_loop], $@xmas_zero_reagents_amounts[@xmas_reagent_loop];
    set @xmas_reagent_loop, (@xmas_reagent_loop + 1);
    if(@xmas_reagent_loop == getarraysize($@xmas_zero_reagents$)) goto L_Return;
    goto L_ZeroLoop;

L_OneLoop:
    set @delitem$[@xmas_reagent_loop], $@xmas_one_reagents$[@xmas_reagent_loop];
    set @delitem[@xmas_reagent_loop], $@xmas_one_reagents_amounts[@xmas_reagent_loop];
    set @xmas_reagent_loop, (@xmas_reagent_loop + 1);
    if(@xmas_reagent_loop == getarraysize($@xmas_one_reagents$)) goto L_Return;
    goto L_OneLoop;

L_Return:
    callfunc "CheckInventory";
    return;
}

function|script|ListReagents
{
    set @xmas_reagent_loop, 0;
    mes "\"I'm going to need \"";
    next;

    if(@xmas_side)
        goto L_OneLoop;
    goto L_ZeroLoop;

L_ZeroLoop:
    mes "\"" + $@xmas_zero_reagents_amounts[@xmas_reagent_loop] + " " + $@xmas_zero_reagents_names$[@xmas_reagent_loop] + "\"";
    next;
    goto L_ZeroLoopAgain;

L_ZeroLoopAgain:
    if((@xmas_reagent_loop + 1) == getarraysize($@xmas_zero_reagents$))
        goto L_AllReagents;
    set @xmas_reagent_loop, (@xmas_reagent_loop + 1);
    goto L_ZeroLoop;

L_OneLoop:
    mes "\"" + $@xmas_one_reagents_amounts[@xmas_reagent_loop] + " " + $@xmas_one_reagents_names$[@xmas_reagent_loop] + "\"";
    next;
    goto L_OneLoopAgain;

L_OneLoopAgain:
    if((@xmas_reagent_loop + 1) == getarraysize($@xmas_one_reagents$))
        goto L_AllReagents;
    set @xmas_reagent_loop, (@xmas_reagent_loop + 1);
    goto L_OneLoop;

L_AllReagents:
    return;
}

function|script|BadPowderMake
{
    setarray @delitem$, "PileOfAsh", "RedDye", "YellowDye";
    setarray @delitem, ($@xmas_red_amount + $@xmas_yellow_amount), $@xmas_red_amount, $@xmas_yellow_amount;
    setarray @getitem$, "RedPowder", "YellowPowder";
    setarray @getitem, $@xmas_red_amount, $@xmas_yellow_amount;
    callfunc "CheckInventory";
    if(@check_fail) goto L_Return;
    mes "\"Here is your powder, now move!\"";
    goto L_Return;

L_Return:
    return;
}
